# Story 6.4: Implement Task Workspace (Jira-Style with Tabs)

## Status

Draft

## Story

**As a** user,
**I want** a dedicated workspace to manage all my tasks,
**so that** I can track compliance work across all laws.

## Acceptance Criteria

1. Task Workspace page at `/workspace/tasks`
2. **Tab Navigation Bar** (Jira-style, horizontal tabs below header):
   - [Sammanfattning] [Aktiva] [Lista] [Kalender] [Alla uppgifter]

**Tab 1: Sammanfattning (Summary):**

3. Status overview donut chart: Open, In Progress, Done counts
4. Priority breakdown bar chart: Blocker, Critical, Major, Minor counts
5. Recent activity feed (last 10 task updates)
6. Team workload distribution (tasks per assignee)
7. Overdue tasks alert section
8. "View all work items" link -> Alla uppgifter tab

**Tab 2: Aktiva (Active - Kanban Board):**

9. Default columns (Swedish): Att gora, Pagaende, Klar
10. Drag-and-drop tasks between columns
11. Task cards show: title, linked law badge, assignee avatar, due date, priority indicator
12. Overdue tasks highlighted (red border)
13. Column headers show count: "Pagaende (5)"
14. Swimlanes option: Group by assignee

**Tab 3: Lista (List View):**

15. Table with columns: Type icon, Key, Summary, Status, Comments, Assignee, Due date, Priority, Labels
16. Sortable columns (click header)
17. Inline quick-edit for status
18. Bulk select + bulk actions (change status, assign, delete)
19. Customizable columns (show/hide via settings)

**Tab 4: Kalender (Calendar View):**

20. Monthly calendar grid
21. Tasks displayed on their due dates
22. Click date -> Create task with that due date
23. Click task -> Opens Task Modal
24. Filter by assignee, status, type

**Tab 5: Alla uppgifter (All Work):**

25. Complete history of all tasks ever created
26. Includes completed/archived tasks
27. Table view with full filtering capability
28. Status filter includes: All, Open, In Progress, Done, Archived
29. Export to CSV option

**Filtering (all tabs except Summary):**

30. Filter by: status, assignee, linked law/list, due date range, priority, labels
31. Search by task title/description
32. Filter state persisted in URL
33. Quick filters: "My tasks", "Overdue", "Due this week"

**Performance:**

34. Smooth with 200+ tasks
35. Virtual scrolling for list views
36. Lazy-load calendar events by visible month

## Tasks / Subtasks

_To be detailed during sprint planning_

- [ ] Create Task Workspace page shell with tab navigation
- [ ] Implement Summary tab with charts
- [ ] Build Kanban board (Aktiva tab)
- [ ] Create List view table
- [ ] Implement Calendar view
- [ ] Build All Work view with archive
- [ ] Add filtering system
- [ ] URL state persistence
- [ ] Performance optimization

## Dev Notes

**Design Reference:** Mimic Jira's project workspace with tab-based navigation (Summary, Active sprints, List, Calendar, All work).

### Layout Wireframe

```
+-----------------------------------------------------------------------+
|  Uppgifter                                            [+ Ny uppgift]   |
+-----------------------------------------------------------------------+
|  [Sammanfattning] [Aktiva] [Lista] [Kalender] [Alla uppgifter]        |
+-----------------------------------------------------------------------+
|  [Search...] [Filter v] [Assignee v] [Type v] [More filters v]        |
+-----------------------------------------------------------------------+
```

### File Locations

```
app/(workspace)/workspace/tasks/
  page.tsx
  layout.tsx
components/features/tasks/
  task-workspace/
    index.tsx
    tab-navigation.tsx
    summary-tab.tsx
    kanban-tab.tsx
    list-tab.tsx
    calendar-tab.tsx
    all-work-tab.tsx
    task-filters.tsx
```

### Dependencies

- Requires Task data model (Story 6.5 for columns)
- Uses @dnd-kit for Kanban drag-and-drop
- Calendar: react-big-calendar or similar

## Testing

- Unit tests for each tab component
- E2E tests for tab navigation, drag-drop, filtering
- Performance tests with 200+ tasks

## Change Log

| Date       | Version | Description            | Author     |
| ---------- | ------- | ---------------------- | ---------- |
| 2026-01-08 | 1.0     | Initial story creation | Sarah (PO) |
