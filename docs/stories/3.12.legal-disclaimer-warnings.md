# Story 3.12: Add Legal Disclaimer and AI Response Warnings

## Status
Draft

## Story

**As a** product owner,
**I want** to display legal disclaimers prominently,
**so that** users understand AI guidance is not legal advice.

## Acceptance Criteria

1. First-time chat users see disclaimer modal before sending first message
2. Disclaimer text: "AI-assisted guidance, not legal advice. Consult a lawyer for specific situations."
3. User must click "I understand" to proceed
4. Disclaimer shown in footer of every chat message (small text)
5. AI responses include warning for high-risk topics (e.g., termination, discrimination): "⚠️ Consider consulting a lawyer for this matter"
6. High-risk topic detection via keyword matching (expandable list)
7. Terms of Service updated to include AI usage terms
8. Legal review of disclaimer language (external lawyer review recommended)

## Tasks / Subtasks

- [ ] Create disclaimer modal component
- [ ] Track first-time chat usage
- [ ] Add disclaimer footer to messages
- [ ] Implement high-risk topic detection
- [ ] Add warning injection to AI responses
- [ ] Update Terms of Service
- [ ] Get legal review

## Dev Notes

**Disclaimer Modal:**
```typescript
function DisclaimerModal({ onAccept }) {
  return (
    <Modal>
      <h2>Important Legal Notice</h2>
      <p>
        Laglig.se provides AI-assisted legal information. This is not legal advice
        and should not be relied upon as a substitute for consultation with a
        qualified lawyer.
      </p>
      <ul>
        <li>AI responses may contain errors or be incomplete</li>
        <li>Laws change frequently - verify current status</li>
        <li>Your specific situation may have unique factors</li>
        <li>For critical decisions, consult a licensed lawyer</li>
      </ul>
      <button onClick={onAccept}>I understand and agree</button>
    </Modal>
  )
}
```

**High-Risk Keywords:**
```typescript
const HIGH_RISK_KEYWORDS = [
  'uppsägning', 'avsked', 'termination',
  'diskriminering', 'discrimination',
  'trakasserier', 'harassment',
  'arbetsskada', 'work injury',
  'rättegång', 'litigation',
  'tvist', 'dispute'
]

function detectHighRisk(query: string): boolean {
  return HIGH_RISK_KEYWORDS.some(keyword =>
    query.toLowerCase().includes(keyword.toLowerCase())
  )
}
```

**Warning Injection:**
```typescript
if (detectHighRisk(userQuery)) {
  response.answer = `⚠️ **Viktigt meddelande:** Detta gäller ett känsligt juridiskt område. Vi rekommenderar starkt att du konsulterar en advokat för din specifika situation.\n\n${response.answer}`
}
```

**Reference:** Legal compliance requirements, Terms of Service template

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-11-11 | 1.0 | Initial story creation | Sarah (PO) |

## Dev Agent Record
_To be populated by dev agent_

## QA Results
_To be populated by QA agent_
