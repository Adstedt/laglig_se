# Story 6.5: Implement Custom Task Columns

## Status

Draft

## Story

**As a** user,
**I want** to customize my Kanban columns,
**so that** I can match my organization's workflow.

## Acceptance Criteria

1. Settings -> Arbetsflode -> "Anpassa kolumner"
2. Default columns: Att gora, Pagaende, Klar (cannot be deleted, can be renamed)
3. User can add custom columns (max 8 total)
4. User can name columns freely (Swedish text)
5. User can reorder columns via drag-and-drop
6. User can delete custom columns (tasks move to "Att gora")
7. Column configuration saved per workspace
8. All workspace members see same columns
9. Color picker for column headers (optional)

## Tasks / Subtasks

_To be detailed during sprint planning_

- [ ] Create task_columns table in database
- [ ] Build column settings UI in workspace settings
- [ ] Implement add/rename/delete column actions
- [ ] Add drag-and-drop reordering for columns
- [ ] Implement color picker for column headers
- [ ] Handle task migration when column deleted
- [ ] Sync column config across workspace members

## Dev Notes

### Data Model

```sql
task_columns
  - id UUID PRIMARY KEY
  - workspace_id UUID REFERENCES workspaces(id)
  - name VARCHAR(100)
  - sort_order INTEGER
  - color VARCHAR(7) -- hex color
  - is_default BOOLEAN
  - created_at TIMESTAMP
```

### Default Columns (Seeded)

| Name     | sort_order | is_default |
| -------- | ---------- | ---------- |
| Att gora | 0          | true       |
| Pagaende | 1          | true       |
| Klar     | 2          | true       |

### File Locations

```
app/(workspace)/workspace/settings/workflow/
  page.tsx
components/features/settings/
  column-manager.tsx
  column-editor.tsx
```

## Testing

- Unit tests for column CRUD operations
- E2E tests for add/rename/delete/reorder
- Test task migration when column deleted

## Change Log

| Date       | Version | Description            | Author     |
| ---------- | ------- | ---------------------- | ---------- |
| 2026-01-08 | 1.0     | Initial story creation | Sarah (PO) |
