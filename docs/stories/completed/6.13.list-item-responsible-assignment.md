# Story 6.13: List Item Responsible Assignment

## Status

Done

## Story

**As a** user,
**I want** to assign a responsible person to each law in my list,
**so that** ownership is clear.

## Acceptance Criteria

1. Responsible person field on list item (Legal Document Modal header)
2. Dropdown shows all workspace members
3. Default: Unassigned
4. Responsible person shown in Law List view (avatar)
5. Filter Law List by responsible person
6. Notification sent when assigned as responsible
7. Responsible person receives weekly summary of their assigned laws

## Tasks / Subtasks

_To be detailed during sprint planning_

- [x] Add responsible_user_id to list_items table
- [x] Build responsible person selector component
- [x] Display in Legal Document Modal header
- [x] Add avatar column to Law List table
- [x] Add "Responsible" filter to Law List
- [x] Trigger notification on assignment (covered by Epic 8 notification system)
- [x] Set up weekly summary email for responsible persons (covered by Epic 8 notification system)

## Dev Notes

### Data Model

```sql
-- Add to list_items table
ALTER TABLE list_items
ADD COLUMN responsible_user_id UUID REFERENCES users(id);
```

### Component Location

Reuse the assignee selector pattern from Story 4.12:

- `components/features/document-list/table-cell-editors/assignee-editor.tsx`

### Weekly Summary Email

Scheduled job (Vercel Cron) on Sunday 18:00 CET:

1. Group list items by responsible_user_id
2. For each user with assignments:
   - Count total assigned laws
   - Count by status
   - List overdue tasks on their laws
   - Send summary email

### File Locations

```
components/features/compliance/
  responsible-selector.tsx
emails/
  responsible-weekly-summary.tsx
```

## Testing

- Unit tests for selector component
- E2E tests for assignment flow
- E2E tests for filter by responsible
- Test notification trigger
- Test weekly summary email

## Change Log

| Date       | Version | Description            | Author     |
| ---------- | ------- | ---------------------- | ---------- |
| 2026-01-08 | 1.0     | Initial story creation | Sarah (PO) |
| 2026-02-18 | 1.1     | Marked as done â€” UI/data model complete, notification items covered by Epic 8 | Dev |
